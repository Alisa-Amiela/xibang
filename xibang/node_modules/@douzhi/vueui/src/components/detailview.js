Vue.component("dz-detail-view", {
  props: ["dataUrl"],
  data: function() {
    return {
      record: {}
    };
  },
  template: `
  <table class="layui-table">
    <slot :detail="record"></slot>
  </table>  
  `,
  mounted: function() {
    if (this.$props.dataUrl) {
      axios
        .get(this.$props.dataUrl + "?id=" + this.$route.query.id)
        .then(rps => {
          this["record"] = rps.data;
        });
    }
  }
});

Vue.component("row", {
  template: `
  <tr><slot></slot></tr>
  `
});

Vue.component("column", {
  props: ["name", "width"],
  template: `<td lay-data="{field:'id'}"><slot></slot></td>`,
  render(createElement) {
    let layData = "{";
    if (this.$props.name !== undefined) {
      layData += "field:'" + this.$props.name + "'";
    }
    if (this.$props.width !== undefined) {
      layData += ",width:" + this.$props.width;
    }
    layData += "}";
    return createElement(
      "td",
      { attrs: { "lay-data": layData } },
      this.$slots.default
    );
  }
});

Vue.component("cell", {
  props: ["name", "width"],
  template: `<td lay-data="{field:'id'}" :width="width"><slot></slot></td>`,
  render(createElement) {
    let layData = "{";
    if (this.$props.name !== undefined) {
      layData += "field:'" + this.$props.name + "'";
    }
    if (this.$props.width !== undefined) {
      layData += ",width:" + this.$props.width;
    }
    layData += "}";
    return createElement(
      "td",
      { attrs: { "lay-data": layData, width: this.$props.width } },
      this.$slots.default
    );
  }
});
